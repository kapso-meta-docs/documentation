
# Managing credit lines

Updated: Nov 26, 2025

This document describes how Solution Partners can share and revoke lines of credit with onboarded business customers.

**Billing Liability Disclosure**

Businesses customers that you onboard through Embedded Signup must be granted access to your line of credit with Meta to pay for WhatsApp Business Platform access. This means that businesses pay you, and you receive an aggregated invoice to pay Meta.

You are the “Bill To Party” for all businesses sharing your credit line. You are liable for and will pay Meta for all WhatsApp Business Platform spend made by these businesses.

You can grant access to your line of credit with the APIs describe in this document. You can revoke access to your line of credit for individual businesses within the [Meta Business Suite](https://business.facebook.com/home/accounts) or with a [series of API calls](https://developers.facebook.com/documentation/business-messaging/whatsapp/solution-providers/share-and-revoke-credit-lines#revoke-a-shared-credit-line).

## Authentication and authorization

Nearly all credit line related endpoints require your system user access token. In addition, the system user who the token represents must have granted your app the **business_management** permission, and must have been granted an **Admin** or **Financial Editor** role on your business portfolio.

## Get your credit line ID

Nearly all API calls related to credit lines require your credit line ID. Use the [GET /&lt;BUSINESS_ID&gt;/extendedcredits](https://developers.facebook.com/docs/marketing-api/reference/business/extendedcredits#Reading) endpoint to get your business portfolio’s credit line ID.

### Request syntax

```
curl 'https://graph.facebook.com/&lt;API_VERSION&gt;/&lt;WHATSAPP_BUSINESS_ACCOUNT_ID&gt;/extendedcredits' \
-H 'Authorization: Bearer &lt;ACCESS_TOKEN&gt;'
```

### Request example

```
curl 'https://graph.facebook.com/v24.0/102289599326934/extendedcredits' \
-H 'Authorization: Bearer EAAJi...'
```

### Response

Upon success, the API will return the business portfolio’s extended credit line ID (“credit line ID”).

```
\{
  "data": [\
    {\
      "id": "1972385232742146"\
    }\
  ]
}
```

## Sharing your credit line

We are currently testing new steps for sharing your credit line with onboarded business customers. These steps will eventually replace this step, so if you wish to implement these steps now, refer to the [Alternate method for sharing your credit line](https://developers.facebook.com/documentation/business-messaging/whatsapp/solution-providers/share-and-revoke-credit-lines#alternate-method-for-sharing-your-credit-line) below.

Use the [POST /&lt;EXTENDED_CREDIT_LINE_ID&gt;/whatsapp_credit_sharing_and_attach](https://developers.facebook.com/docs/marketing-api/reference/extended-credit/whatsapp_credit_sharing_and_attach#Creating) endpoint to share your credit line with an onboarded business customer.

### Request syntax

```
curl -X POST 'https://graph.facebook.com/&lt;API_VERSION&gt;/&lt;EXTENDED_CREDIT_LINE_ID&gt;/whatsapp_credit_sharing_and_attach?waba_currency=&lt;CUSTOMER_BUSINESS_CURRENCY&gt;&waba_id=&lt;CUSTOMER_WABA_ID&gt;' \
-H 'Authorization: Bearer &lt;SYSTEM_TOKEN&gt;'
```

### Request parameters

| Placeholder | Description | Example value |
| --- | --- | --- |
| `&lt;CUSTOMER_BUSINESS_CURRENCY&gt;` | **Required.**<br />The business’s currency, as a three-letter currency code. Support values are:<br />`AUD`<br />`EUR`<br />`GBP`<br />`IDR`<br />`INR`<br />`USD`<br />This currency is used for invoicing and corresponds to [pricing](https://developers.facebook.com/documentation/business-messaging/whatsapp/pricing) rates. | `USD` |
| `&lt;CUSTOMER_WABA_ID&gt;` | **Required.**<br />The customer’s WABA ID. | `102290129340398` |
| `&lt;EXTENDED_CREDIT_LINE_ID&gt;` | **Required.**<br />Your extended credit line ID. | `1972385232742146` |
| `&lt;SYSTEM_TOKEN&gt;` | **Required.**<br />Your system token. | `EAAAN6tcBzAUBOZC82CW7iR2LiaZBwUHS4Y7FDtQxRUPy1PHZClDGZBZCgWdrTisgMjpFKiZAi1FBBQNO2IqZBAzdZAA16lmUs0XgRcCf6z1LLxQCgLXDEpg80d41UZBt1FKJZCqJFcTYXJvSMeHLvOdZwFyZBrV9ZPHZASSqxDZBUZASyFdzjiy2A1sippEsF4DVV5W2IlkOSr2LrMLuYoNMYBy8xQczzOKDOMccqHEZD` |

### Response

Upon success:

```
\{
  "allocation_config_id": "58501441721238",
  "waba_id": "102290129340398"
}
```

### Response parameters

| Placeholder | Description | Example value |
| --- | --- | --- |
| `&lt;ALLOCATION_CONFIGURATION_ID&gt;` | The extended credit line’s allocation configuration ID.<br />Save this ID if you want to [verify](https://developers.facebook.com/documentation/business-messaging/whatsapp/solution-providers/share-and-revoke-credit-lines#verifying-shared-status) that your credit line has been shared with the customer. | `58501441721238` |
| `&lt;CUSTOMER_WABA_ID&gt;` | The customer’s WABA ID. | `102290129340398` |

## Alternate method for sharing your credit line

We are currently testing new steps for sharing your credit line with onboarded business customers. These steps are described below, and will eventually replace the [current method](https://developers.facebook.com/documentation/business-messaging/whatsapp/solution-providers/share-and-revoke-credit-lines#sharing-your-credit-line) for sharing your credit line with an onboarded customer.

### Step 1: Get your customer’s business portfolio ID

Use the [GET /&lt;WABA_ID&gt;](https://developers.facebook.com/documentation/business-messaging/whatsapp/reference/whatsapp-business-account/whatsapp-business-account-api#Reading) endpoint and request the `owner_business_info` field to get the business customer’s business portfolio ID.

#### Request syntax

```
curl --get 'https://graph.facebook.com/v21.0/&lt;WABA_ID&gt;?fields=owner_business_info' \
-H 'Authorization: Bearer &lt;BUSINESS_TOKEN&gt;'
```

#### Request parameters

| Placeholder | Description | Example value |
| --- | --- | --- |
| `&lt;BUSINESS_TOKEN&gt;` | **Required.**<br />The customer’s business token. | `EAAAN6tcBzAUBOwtDtTfmZCJ9n3FHpSDcDTH86ekf89XnnMZAtaitMUysPDE7LES3CXkA4MmbKCghdQeU1boHr0QZA05SShiILcoUy7ZAb2GE7hrUEpYHKLDuP2sYZCURkZCHGEvEGjScGLHzC4KDm8tq2slt4BsOQE1HHX8DzHahdT51MRDqBw0YaeZByrVFZkVAoVTxXUtuKgDDdrmJQXMnI4jqJYetsZCP1efj5ygGscZBm4OvvuCYB039ZAFlyNn` |
| `&lt;WABA_ID&gt;` | **Required.**<br />The customer’s WABA ID. | `102290129340398` |

#### Response syntax

Upon success:

```
\{
  "owner_business_info": {
    "name": "&lt;BUSINESS_PORTFOLIO_NAME&gt;",
    "id": "&lt;BUSINESS_PORTFOLIO_ID&gt;"
  },
  "id": "&lt;WABA_ID&gt;"
}
```

#### Response parameters

| Placeholder | Description | Example value |
| --- | --- | --- |
| `&lt;BUSINESS_PORTFOLIO_ID&gt;` | The customer’s business portfolio ID. | `2729063490586005` |
| `&lt;BUSINESS_PORTFOLIO_NAME&gt;` | The customer’s business portfolio name. | `Wind & Wool` |
| `&lt;WABA_ID&gt;` | The customer’s WABA ID. | `102290129340398` |

### Step 2: Share your credit line with the customer’s business

Use the [POST /&lt;EXTENDED_CREDIT_ID&gt;/whatsapp_credit_sharing](https://developers.facebook.com/docs/marketing-api/reference/extended-credit/whatsapp_credit_sharing#Creating) endpoint and your **system token** to indicate your intent to share your credit line with the customer’s business portfolio.

#### Request syntax

```
curl -X POST 'https://graph.facebook.com/&lt;API_VERSION&gt;/&lt;EXTENDED_CREDIT_LINE_ID&gt;/whatsapp_credit_sharing?receiving_business_id=&lt;BUSINESS_PORTFOLIO_ID&gt;' \
-H 'Authorization: Bearer &lt;SYSTEM_TOKEN&gt;'
```

#### Request parameters

| Placeholder | Description | Example value |
| --- | --- | --- |
| `&lt;EXTENDED_CREDIT_LINE_ID&gt;` | **Required.**<br />Your extended credit line ID. | `5985499441566032` |
| `&lt;BUSINESS_PORTFOLIO_ID&gt;` | **Required.**<br />The customer’s business portfolio ID. | `2729063490586005` |
| `&lt;SYSTEM_TOKEN&gt;` | **Required.**<br />You system user access token. | `EAAAN6tcBzAUBOZC82CW7iR2LiaZBwUHS4Y7FDtQxRUPy1PHZClDGZBZCgWdrTisgMjpFKiZAi1FBBQNO2IqZBAzdZAA16lmUs0XgRcCf6z1LLxQCgLXDEpg80d41UZBt1FKJZCqJFcTYXJvSMeHLvOdZwFyZBrV9ZPHZASSqxDZBUZASyFdzjiy2A1sippEsF4DVV5W2IlkOSr2LrMLuYoNMYBy8xQczzOKDOMccqHEZD` |

#### Response example

Upon success:

```
  "success": true,
  "allocation_config_id": "58501441721238"
}
```

#### Response parameters

| Placeholder | Description | Example value |
| --- | --- | --- |
| `&lt;ALLOCATION_CONFIG_ID&gt;` | The extended credit line’s allocation configuration ID. | `58501441721238` |

### Step 3: Attach your credit line to the customer’s WABA

Use the [POST /&lt;EXTENDED_CREDIT_LINE_ID&gt;/whatsapp_credit_attach](https://developers.facebook.com/docs/marketing-api/reference/extended-credit/whatsapp_credit_attach) endpoint to attach your credit line to the customer’s WABA.

Note: Credit lines cannot be changed after being attached to a WABA. In case a new credit lines need to be used then a new WABA needs to be created.

#### Request syntax

```
curl -X POST 'https://graph.facebook.com/v21.0/&lt;EXTENDED_CREDIT_LINE_ID&gt;/whatsapp_credit_attach?waba_currency=&lt;WABA_CURRENCY&gt;&waba_id=&lt;WABA_ID&gt;' \
-H 'Authorization: Bearer &lt;BUSINESS_TOKEN&gt;'
```

#### Request parameters

| Placeholder | Description | Example value |
| --- | --- | --- |
| `&lt;BUSINESS_TOKEN&gt;` | **Required.**<br />The customer’s business token. | `EAAAN6tcBzAUBOwtDtTfmZCJ9n3FHpSDcDTH86ekf89XnnMZAtaitMUysPDE7LES3CXkA4MmbKCghdQeU1boHr0QZA05SShiILcoUy7ZAb2GE7hrUEpYHKLDuP2sYZCURkZCHGEvEGjScGLHzC4KDm8tq2slt4BsOQE1HHX8DzHahdT51MRDqBw0YaeZByrVFZkVAoVTxXUtuKgDDdrmJQXMnI4jqJYetsZCP1efj5ygGscZBm4OvvuCYB039ZAFlyNn` |
| `&lt;EXTENDED_CREDIT_LINE_ID&gt;` | **Required.**<br />Your extended credit line ID. | `5985499441566032` |
| `&lt;WABA_ID&gt;` | **Required.**<br />The customer’s WABA ID. | `102290129340398` |
| `&lt;WABA_CURRENCY&gt;` | **Required.**<br />The customer’s business currency. | `USD` |

#### Response syntax

Upon success:

```
\{
  "success": true,
  "waba_id": "&lt;WABA_ID&gt;",
  "allocation_config_id": "&lt;ALLOCATION_CONFIG_ID&gt;"
}
```

#### Response parameters

| Placeholder | Description | Example value |
| --- | --- | --- |
| `&lt;ALLOCATION_CONFIG_ID&gt;` | The extended credit line’s allocation configuration ID.<br />Save this ID if you want to [verify](https://developers.facebook.com/documentation/business-messaging/whatsapp/solution-providers/share-and-revoke-credit-lines#verifying-shared-status) that your credit line has been shared with the customer. | `58501441721238` |
| `&lt;WABA_ID&gt;` | The customer’s WABA ID. | `102290129340398` |

Your credit line should now be shared with the business customer. If you want to verify that it has in fact been shared, see [Verifying that your credit line has been shared with a customer](https://developers.facebook.com/documentation/business-messaging/whatsapp/solution-providers/share-and-revoke-credit-lines#step-3--verify-credit-line-was-shared).

## Verifying shared status

Perform the following queries if you want to make sure that your credit line has been shared with an onboarded business customer.

### Step 1: Get credit line’s receiving credential

Use the [GET /&lt;EXTENDED_CREDIT_ALLOCATION_ID&gt;](https://developers.facebook.com/docs/graph-api/reference/extended-credit-allocation-config) endpoint to request the `receiving_credential` field on your extended credit allocation ID (returned when you [shared your credit line](https://developers.facebook.com/documentation/business-messaging/whatsapp/solution-providers/share-and-revoke-credit-lines#sharing-your-credit-line) with the business customer).

### Request syntax

```
curl 'https://graph.facebook.com/&lt;API_VERSION&gt;/&lt;EXTENDED_CREDIT_ALLOCATION_ID&gt;?fields=receiving_credential' \
-H 'Authorization: Bearer &lt;SYSTEM_TOKEN&gt;'
```

### Response syntax

Upon success:

```
\{
  "receiving_credential": {
    "id": "&lt;RECEIVING_CREDENTIAL_ID&gt;"
  },
  "id": "&lt;ALLOCATION_CONFIGURATION_ID&gt;"
}
```

### Step 2: Get WABA’s primary funding ID

Use the [GET /&lt;WABA&gt;](https://developers.facebook.com/documentation/business-messaging/whatsapp/reference/whatsapp-business-account/whatsapp-business-account-api#Reading) endpoint to request the `primary_funding_id` on the customer’s WABA ID.

### Request syntax

```
curl 'https://graph.facebook.com/v21.0/&lt;CUSTOMER_WABA_ID&gt;/?fields=primary_funding_id' \
-H 'Authorization: Bearer &lt;CUSTOMER_BUSINESS_TOKEN&gt;'
```

### Response syntax

Upon success:

```
\{
  "primary_funding_id": "&lt;PRIMARY_FUNDING_ID&gt;",
  "id": "&lt;CUSTOMER_WABA_ID&gt;"
}
```

### Step 3: Compare IDs

Compare the receiving credential ID to the primary funding ID. If the values match, your credit line has been shared correctly with the business customer’s WABA.

## Revoke a shared credit line

These are the steps needed to remove the shared line of credit if you need to revoke access for any reason. You can revoke your credit line whenever you feel the need to and/or when your client removes you as a partner from their WhatsApp Business Account.

When you revoke a credit line from a customer’s account, that revocation applies to all WABAs that belong to the customer’s business **and** have been shared with you, the Solution Partner.

### Step 1: Get your credit line ID

#### Example request

```
curl -i -X GET "https://graph.facebook.com/v24.0/105954558954427/
  extendedcredits?fields=id,legal_entity_name&
  access_token=EAAFl..."
```

#### Example response

```
\{
  "data": [\
    {\
      "id": "1972385232742146",   //Credit line ID\
      "legal_entity_name": "Your Legal Entity",\
    }\
  ]
}
```

### Step 2: Get the customer’s business portfolio ID

If the WhatsApp Business Account is currently shared with the Solution Partner, get the client’s business ID from the shared WhatsApp Business Account.

In the following example, use the ID for the assigned WhatsApp Business Account.

Request:

```
curl -i -X GET "https://graph.facebook.com/v24.0/
  &lt;WHATSAPP_BUSINESS_ACCOUNT_ID&gt;?fields=owner_business_info&
  access_token=&lt;ACCESS_TOKEN&gt;"
```

Response:

```
\{
  "owner_business_info": {
    "name": "Client Business Name",
    "id": "1972385232742147"
  },
}
```

If the WhatsApp Business Account was unshared with the Solution Partner or the client business removed the Solution Partner as a partner from the WhatsApp Business Account, you cannot access the client’s business ID from the above API call. See [Unshared WhatsApp Business Account](https://developers.facebook.com/documentation/business-messaging/whatsapp/solution-providers/share-and-revoke-credit-lines#unshared-whatsapp-business-account) for information.

### Step 3: Get the customer’s credit sharing record

In the following example, use your credit line ID as the extended credit ID.

Request:

```
curl -i -X GET "https://graph.facebook.com/&lt;API_VERSION&gt;/&lt;EXTENDED_CREDIT_ID&gt;/
  owning_credit_allocation_configs?
  receiving_business_id=&lt;CLIENT_BUSINESS_ID&gt;&
  fields=id,receiving_business&
  access_token=&lt;SYSTEM_USER_ACCESS_TOKEN&gt;"
```

Response:

```
\{
  "id": "1972385232742140", // Allocation config (i.e., credit sharing) id
  "receiving_business": {
    "name": "Client Business Name"
    "id": "1972385232742147"
  },
}
```

### Step 4: Revoke credit sharing

Request:

```
curl -i -X DELETE "https://graph.facebook.com/v24.0/
  {allocation-config-id}?
  access_token={system-user-access-token}"
```

Response:

```
\{
  "success": true,
}
```

### Step 5: Verify credit sharing was revoked (Optional)

Request:

```
curl -i -X GET "https://graph.facebook.com/v24.0/
  {allocation-config-id}?fields=receiving_business,request_status&
  access_token={system-user-access-token}"
```

Response:

```
\{
  "receiving_business": {
    "name": "Client Business Name"
    "id": "1972385232742147"
  },
  "request_status": "DELETED"
}
```

## Troubleshooting

### Unshared WhatsApp Business Accounts

If the WhatsApp Business Account was unshared with the Solution Partner or the client business removed the Solution Partner as a partner from the WhatsApp Business Account, you are not able to access the client’s business ID from the API call listed in [Step 2](https://developers.facebook.com/documentation/business-messaging/whatsapp/solution-providers/share-and-revoke-credit-lines#step-2--retrieve-the-client-s-business-id).

In this case, you can retrieve the client’s business ID from the email notification that was sent to the Solution Partner business admins when the client business removed the Solution Partner as a partner from the WhatsApp Business Account.

When the WhatsApp Business Account is unshared, all messaging for that account is blocked to protect the Solution Partner’s credit line. For complete security, it is recommended that Solution Partners revoke their credit line as soon as the unshare occurs.

## See Also

Reference: [Business](https://developers.facebook.com/docs/marketing-api/reference/business)
Reference: [WhatsApp Business Account](https://developers.facebook.com/documentation/business-messaging/whatsapp/reference/whatsapp-business-account/whatsapp-business-account-api)
Reference: [Extended Credit](https://developers.facebook.com/docs/marketing-api/reference/extended-credit)

Did you find this page helpful?

![Thumbs up icon](https://static.xx.fbcdn.net/rsrc.php/yR/r/OEXJ0_DJeZv.svg)

![Thumbs down icon](https://static.xx.fbcdn.net/rsrc.php/yb/r/qKPgNVNeatU.svg)

ON THIS PAGE

Authentication and authorization

Get your credit line ID

Request syntax

Request example

Response

Sharing your credit line

Request syntax

Request parameters

Response

Response parameters

Alternate method for sharing your credit line

Step 1: Get your customer’s business portfolio ID

Request syntax

Request parameters

Response syntax

Response parameters

Step 2: Share your credit line with the customer’s business

Request syntax

Request parameters

Response example

Response parameters

Step 3: Attach your credit line to the customer’s WABA

Request syntax

Request parameters

Response syntax

Response parameters

Verifying shared status

Step 1: Get credit line’s receiving credential

Request syntax

Response syntax

Step 2: Get WABA’s primary funding ID

Request syntax

Response syntax

Step 3: Compare IDs

Revoke a shared credit line

Step 1: Get your credit line ID

Example request

Example response

Step 2: Get the customer’s business portfolio ID

Step 3: Get the customer’s credit sharing record

Step 4: Revoke credit sharing

Step 5: Verify credit sharing was revoked (Optional)

Troubleshooting

Unshared WhatsApp Business Accounts

See Also

* * *